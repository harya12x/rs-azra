<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      PERMOHONAN PASIEN IZIN MENINGGALKAN RS SEMENTARA DALAM PROSES PERAWATAN
    </title>
  </head>
  <style>
    body {
      font-family: Arial, sans-serif;
      font-size: 12px;
    }
    .title {
      text-align: center;
      font-family: Arial, Helvetica, sans-serif;
      margin-bottom: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }
    th,
    td {
      border: 1px solid black;
      padding: 5px;
    }
  </style>
  <script type="text/javascript">
    $(document).on("ajaxStop", function () {
      SetTTD();
    });
  </script>
  <script>
    $(document).ready(function () {
      $(function () {
        $(".datepicker").datepicker({
          dateFormat: "dd-mm-yy",
          autoclose: true,
          todayHighlight: true,
        });
      });
    });

    // Untuk Keperluan TTD
    function ttd_paraf(id) {
      PopupCenter(
        "index.php?mod=ttd_pentablet&cmd=ttd_pentablet&jenis=" + id,
        "pop",
        800,
        400
      );
    }

    // Untuk Keperluan TTD
    function tampil_ttd(x, y) {
      ImageToText(x, y);
    }

    // Untuk Keperluan TTD
    function PopupCenter(url, title, w, h) {
      console.log("PopupCenter");
      var dualScreenLeft =
        window.screenLeft != undefined ? window.screenLeft : screen.left;
      var dualScreenTop =
        window.screenTop != undefined ? window.screenTop : screen.top;
      var width = window.innerWidth
        ? window.innerWidth
        : document.documentElement.clientWidth
        ? document.documentElement.clientWidth
        : screen.width;
      var height = window.innerHeight
        ? window.innerHeight
        : document.documentElement.clientHeight
        ? document.documentElement.clientHeight
        : screen.height;
      var left = width / 2 - w / 2 + dualScreenLeft + 100;
      var top = height / 2 - h / 2 + dualScreenTop + 100;

      var newWindow = window.open(
        url,
        title,
        "scrollbars=yes, width=" +
          w +
          ", height=" +
          h +
          ", top=" +
          top +
          ", left=" +
          left
      );

      if (window.focus) newWindow.focus();
    }

    // Untuk Keperluan TTD
    function SetTTD() {
      $('input[data-name="paraf"]').each(function () {
        var id = $(this).attr("data-id"),
          ttd = $(this).val();

        ImageToText(id, ttd);
      });
    }

    // Untuk Keperluan Select Option & TTD
    $(document)
      .off("change", 'select[data-var="set_name_sel"]')
      .on("change", 'select[data-var="set_name_sel"]', function () {
        var name = $(this).attr("name"),
          name_txt = $(this).find("option:selected").text(),
          name_img = $(this).find("option:selected").attr("data-ttd"),
          id = $(this).attr("data-id");

        $("#" + name + "_txt").val(name_txt);

        ImageToText(id, name_img);
      });

    // Untuk Keperluan Create TTD
    $(document)
      .off("click", "#CreateTTD")
      .on("click", "#CreateTTD", function () {
        var id = $(this).attr("data-id");

        ttd_paraf(id);
      });

    // Untuk Keperluan Parsing TTD To Object
    function ImageToText(img_id, img_val) {
      def = "paraf";

      if (typeof img_val === "undefined" || img_val == "") {
        $("#def_img_" + img_id).text(def);
        $("#def_img_" + img_id).css({
          display: "",
          "font-style": "italic",
          width: "100px",
          height: "100px",
        });
        $("#image_paraf_" + img_id).css("display", "none");
      } else {
        $("#def_img_" + img_id).text("");
        $("#def_img_" + img_id).css("display", "none");
        $("#image_paraf_" + img_id).attr("src", "" + img_val + "");
        $("#image_paraf_" + img_id).css({
          display: "",
          width: "100px",
          height: "100px",
        });
        $("#paraf_" + img_id).val(img_val);
      }
    }
  </script>
  <body>
    <table class="table table-bordered">
      <tbody>
        <tr>
          <td>
            <h2 class="title">
              PERMOHONAN PASIEN IZIN MENINGGALKAN RS SEMENTARA DALAM PROSES
              PERAWATAN
            </h2>
          </td>
        </tr>
      </tbody>
    </table>

    <table class="table table-bordered" width="100%">
      <tbody>
        <tr>
          <td colspan="2">
            <p>
              Saya yang bertanda tangan / bertanggung jawab terhadap pasien di
              bawah ini mengajukan permohonan kepada pihak RS AZRA untuk
              mengizinkan pasien :
            </p>
          </td>
        </tr>
        <tr>
          <td>Nama :</td>
          <td width="90%">
            <input
              style="width: 100%; padding: 0"
              type="text"
              value="{VNAMA_PASIEN}"
              name="nama-pasien"
              id="nama-pasien"
              label="nama-pasien"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
        <tr>
          <td>Umur :</td>
          <td width="90%">
            <input
              style="width: 100%; padding: 0"
              type="text"
              value="{VAGEREGIS}"
              name="umur-pasien"
              id="umur-pasien"
              label="umur-pasien"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
        <tr>
          <td>Alamat :</td>
          <td width="90%">
            <input
              style="width: 100%; padding: 0"
              type="text"
              name="alamat-pasien"
              id="alamat-pasien"
              label="alamat-pasien"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
        <tr>
          <td>No. KTP :</td>
          <td width="90%">
            <input
              style="width: 100%; padding: 0"
              type="text"
              name="no-ktp-pasien"
              id="no-ktp-pasien"
              label="no-ktp-pasien"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
      </tbody>
    </table>

    <table class="table table-bordered" width="100%">
      <tbody>
        <tr>
          <td colspan="2">
            <br />
            <p>
              Untuk izin meninggalkan RS sementara dalam proses perawatan karena
              kepentingan :
            </p>
            <textarea
              type="textarea"
              style="width: 100%; padding: 0"
              name="alasan-kepentingan-meninggalkan-rs"
              id="alasan-kepentingan-meninggalkan-rs"
              label="alasan-kepentingan-meninggalkan-rs"
              myid="check_cara"
              rows="5"
            ></textarea>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div style="display: flex; gap: 5px">
              <label for="">Pada tanggal</label>
              <input
                style="flex: 1"
                type="text"
                name="tgl-meninggalkan-rs"
                id="tgl-meninggalkan-rs"
                label="tgl-meninggalkan-rs"
                myid="check_cara"
                placeholder="dd/mm/yyyy"
                class="datepicker"
              />
            </div>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div style="display: flex; gap: 5px">
              <label for="">Selama</label>
              <input
                style="flex: 1"
                type="text"
                name="lama-meninggalkan-rs-1"
                id="lama-meninggalkan-rs-1"
                label="lama-meninggalkan-rs-1"
                myid="check_cara"
                placeholder="......"
              />
              <label for="">(</label>
              <input
                style="flex: 1"
                type="text"
                name="lama-meninggalkan-rs-2"
                id="lama-meninggalkan-rs-2"
                label="lama-meninggalkan-rs-2"
                myid="check_cara"
                placeholder="......"
              />
              <label for="">) jam, mulai pukul</label>
              <input
                style="flex: 1"
                type="text"
                name="mulai-pukul"
                id="mulai-pukul"
                label="mulai-pukul"
                myid="check_cara"
                mtype="pukul"
                placeholder="00.00"
              />
              <label for="">s/d pukul</label>
              <input
                style="flex: 1"
                type="text"
                name="selesai-pukul"
                id="selesai-pukul"
                label="selesai-pukul"
                myid="check_cara"
                mtype="pukul"
                placeholder="00.00"
              />
            </div>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div style="display: flex; gap: 5px">
              <label for="">Tempat tujuan</label>
              <input
                style="flex: 1"
                type="text"
                name="tempat-tujuan"
                id="tempat-tujuan"
                label="tempat-tujuan"
                placeholder="......"
                myid="check_cara"
              />
            </div>
          </td>
        </tr>
        <tr>
          <td>Membutuhkan pendampingan perawat :</td>
          <td width="80%">
            <label for="">YA</label>
            <input
              type="radio"
              name="butuh-pendampingan-perawat"
              id="butuh-pendampingan-perawat"
              label="butuh-pendampingan-perawat"
              value="YA"
              myid="check_cara"
            />
            <label for=""> / TIDAK</label>
            <input
              type="radio"
              name="butuh-pendampingan-perawat"
              id="butuh-pendampingan-perawat"
              label="butuh-pendampingan-perawat"
              value="TIDAK"
              myid="check_cara"
            />
            <label for=""><sup>*</sup></label>
          </td>
        </tr>
        <tr>
          <td>Membutuhkan penggunaan ambulans :</td>
          <td width="80%">
            <label for="">YA</label>
            <input
              type="radio"
              name="butuh-penggunaan-ambulans"
              id="butuh-penggunaan-ambulans"
              label="butuh-penggunaan-ambulans"
              value="YA"
              myid="check_cara"
            />
            <label for=""> / TIDAK</label>
            <input
              type="radio"
              name="butuh-penggunaan-ambulans"
              id="butuh-penggunaan-ambulans"
              label="butuh-penggunaan-ambulans"
              value="TIDAK"
              myid="check_cara"
            />
            <label for=""><sup>*</sup></label>
          </td>
        </tr>
      </tbody>
    </table>

    <br />

    <table class="table table-bordered" width="100%">
      <tbody>
        <tr>
          <td colspan="2">
            <p>
              Selama berada di luar RS AZRA yang bertanggung jawab terhadap
              pasien tersebut di atas adalah :
            </p>
          </td>
        </tr>
        <tr>
          <td>Nama :</td>
          <td width="80%">
            <input
              style="width: 100%; padding: 0"
              type="text"
              name="nama-yg-bertanggung-jwb"
              id="nama-yg-bertanggung-jwb"
              label="nama-yg-bertanggung-jwb"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
        <tr>
          <td>No. KTP / SIM :</td>
          <td>
            <input
              style="width: 100%; padding: 0"
              type="text"
              name="no-ktp-sim-yg-bertanggung-jwb"
              id="no-ktp-sim-yg-bertanggung-jwb"
              label="no-ktp-sim-yg-bertanggung-jwb"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
        <tr>
          <td>Hubungan dengan pasien :</td>
          <td width="84%">
            <input
              style="width: 100%; padding: 0"
              type="text"
              name="hubungan-dgn-pasien"
              id="hubungan-dgn-pasien"
              label="hubungan-dgn-pasien"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
        <tr>
          <td>Alamat :</td>
          <td>
            <input
              style="width: 100%; padding: 0"
              type="text"
              name="alamat-yg-bertanggung-jwb"
              id="alamat-yg-bertanggung-jwb"
              label="alamat-yg-bertanggung-jwb"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <p>
              Selama berada di luar Rumah Sakit AZRA Bogor pasien beralamat di :
            </p>
            <textarea
              type="textarea"
              style="width: 100%; padding: 0"
              name="alamat-luar-rs-azra"
              id="alamat-luar-rs-azra"
              label="alamat-luar-rs-azra"
              rows="5"
              myid="check_cara"
            ></textarea>
          </td>
        </tr>
        <tr>
          <td>No. telepon yang bisa dihubungi :</td>
          <td>
            <input
              style="width: 100%; padding: 0"
              type="text"
              name="alamat-yg-bertanggung-jwb"
              id="alamat-yg-bertanggung-jwb"
              label="alamat-yg-bertanggung-jwb"
              myid="check_cara"
              placeholder="......"
            />
          </td>
        </tr>
      </tbody>
    </table>

    <br />

    <label for="">(<sup>*</sup>) Pilih salah satu yang sesuai</label>
    <br />

    <table class="table table-bordered" width="100%">
      <tbody>
        <tr>
          <td width="20%"><label for="">Bogor, tanggal / pukul</label></td>
          <td>
            <input
              size="30"
              type="text"
              name="tgl-permohonan"
              id="tgl-permohonan"
              label="tgl-permohonan"
              myid="check_cara"
              placeholder="dd/mm/yyyy"
              class="datepicker"
            />
            <br />
            <input
              size="30"
              type="text"
              name="pukul-permohonan"
              id="pukul-permohonan"
              label="pukul-permohonan"
              myid="check_cara"
              mtype="pukul"
              placeholder="00.00"
              class="datepicker"
            />
          </td>
        </tr>
        <tr>
          <td><p>Pemohon</p></td>
          <td>
            <input
              size="30"
              type="text"
              name="pemohon"
              id="pemohon"
              label="pemohon"
              myid="check_cara"
              placeholder="......"
            />
            <br />
            <label
              class="label text-center"
              id="def_img_ex_ttd_pemohon"
              style="font-style: italic; width: 100px; height: 100px"
              >paraf</label
            >
            <label class="label text-center">
              <img
                class="text-center"
                id="image_paraf_ex_ttd_pemohon"
                src=""
                style="display: none"
            /></label>
            <input
              myid="check_cara"
              type="hidden"
              name="paraf_ex_ttd_pemohon"
              id="paraf_ex_ttd_pemohon"
              data-name="paraf"
              data-id="ex_ttd_pemohon"
            />
            <br />
            <label class="label text-center">
              <a
                id="CreateTTD"
                class="btn btn-default btn-xs pointer text-center"
                data-id="ex_ttd_pemohon"
                style="text-align: center"
              >
                <i class="fa fa-edit"> </i>
                PENTABLET
              </a>
            </label>
            <font id="ttdnya2"></font>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
